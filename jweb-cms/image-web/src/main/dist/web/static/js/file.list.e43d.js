$(function(){List.init()});var List={directoryId:$("#directoryId").val(),roles:$("#roles").val(),page:{total:$("#total").val(),page:$("#page").val(),limit:$("#limit").val()},load:function(){},init:function(){$(".sited-file-toolbar__input").change(function(i){var t=$(i.currentTarget).val(),e=window.location.href;if(e.indexOf("?")<0)return void(window.location.href=e+"?query="+t);var n=e.substring(e.indexOf("?")+1,e.length).split("&"),r=!1;e=e.substring(0,e.indexOf("?"));for(var o=0;o<n.length;o++){var a=n[o].split("=");"query"===a[0]&&(a[1]=t,r=!0),e+=0===o?"?":"&",e+=a[0]+"="+a[1]}r||(e+="&query="+t),window.location.href=e}),$(".sited-file-table__path").click(function(i){var t=$(i.currentTarget),e=t.html(),n=t.data("directory"),r=window.location.href;if(!n)return void(window.location.href="/file"+e);if(r.indexOf("?")<0)return void(window.location.href=r+"?path="+e);var o=r.substring(r.indexOf("?")+1,r.length).split("&"),a=!1;r=r.substring(0,r.indexOf("?"));for(var l=0;l<o.length;l++){var d=o[l].split("=");"path"===d[0]&&(d[1]=e,a=!0),r+=0===l?"?":"&",r+=d[0]+"="+d[1]}a||(r+="&path="+e),window.location.href=r}),$(".sited-file__delete").click(function(i){var t=$(i.currentTarget),e=t.data("id");t.data("directory")?$.ajax({url:"/web/api/directory/"+e,method:"DELETE"}).then(function(){window.location.reload()}):$.ajax({url:"/web/api/file/"+e,method:"DELETE"}).then(function(){window.location.reload()})})}};
$(function(){List.init()});var List={directoryId:$("#directoryId").val(),roles:$("#roles").val(),page:{total:$("#total").val(),page:$("#page").val(),limit:$("#limit").val()},load:function(){},init:function(){$(".file-toolbar__input").change(function(i){var t=$(i.currentTarget).val(),n=window.location.href;if(n.indexOf("?")<0)return void(window.location.href=n+"?query="+t);var r=n.substring(n.indexOf("?")+1,n.length).split("&"),e=!1;n=n.substring(0,n.indexOf("?"));for(var o=0;o<r.length;o++){var a=r[o].split("=");"query"===a[0]&&(a[1]=t,e=!0),n+=0===o?"?":"&",n+=a[0]+"="+a[1]}e||(n+="&query="+t),window.location.href=n}),$(".file-table__path").click(function(i){var t=$(i.currentTarget),n=t.html(),r=t.data("directory"),e=window.location.href;if(!r)return void(window.location.href="/file"+n);if(e.indexOf("?")<0)return void(window.location.href=e+"?path="+n);var o=e.substring(e.indexOf("?")+1,e.length).split("&"),a=!1;e=e.substring(0,e.indexOf("?"));for(var l=0;l<o.length;l++){var d=o[l].split("=");"path"===d[0]&&(d[1]=n,a=!0),e+=0===l?"?":"&",e+=d[0]+"="+d[1]}a||(e+="&path="+n),window.location.href=e}),$(".file__delete").click(function(i){var t=$(i.currentTarget),n=t.data("id");t.data("directory")?$.ajax({url:"/web/api/directory/"+n,method:"DELETE"}).then(function(){window.location.reload()}):$.ajax({url:"/web/api/file/"+n,method:"DELETE"}).then(function(){window.location.reload()})})}};